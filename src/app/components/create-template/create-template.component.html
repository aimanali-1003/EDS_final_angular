<div class="card-container" style="padding: 40px;">
  <mat-card class="luxury-card">
    <mat-card-header>
      <h2 class="client-title" style="font-size: 20.667px; font-weight: bold; font-family: 'Quicksand', sans-serif;">
        {{ isViewOnly ? 'View Template' : (isEdit ? 'Edit Template' : 'Create New Template') }}
      </h2>
    </mat-card-header>
    <div class="row">

      <!-- Template Name-->
      <mat-form-field class="flexible-field">
        <input matInput [disabled]="isViewOnly" placeholder="Template Name" [(ngModel)]="templateData.templateName">
      </mat-form-field>
<!-- 
      <div class="form-item">
        <div class="form-item">
          <mat-form-field class="full-width">
            <mat-label>Select Category</mat-label>
            <mat-select
              [disabled]="isViewOnly"
              placeholder="Select Category"
              [(ngModel)]="templateData.templateId" 
              name="TemplateName"
              required
            >
              <mat-option *ngFor="let template of templates" [value]="template.templateId">
                {{ template.templateName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>          
    </div> -->

      <!-- Category Select -->
      <mat-form-field class="flexible-field">
        <mat-label>Select Category</mat-label>
        <mat-select [disabled]="isViewOnly" [(ngModel)]="templateData.categoryId" (selectionChange)="onCategorySelect($event.value)">
          <mat-option *ngFor="let category of categories" [value]="category">
            {{ category?.categoryName }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Column Select -->
      <div *ngIf="selectedCategoryColumns.length > 0" class="selected-category-columns">
        <h3>Selected Category Columns:</h3>
        <ul>
          <li *ngFor="let column of selectedCategoryColumns">
            <mat-checkbox [(ngModel)]="column.isActive">
              {{ column.columnName }}
            </mat-checkbox>
          </li>
        </ul>
      </div>
      <div *ngIf="selectedCategoryColumns.length === 0" class="no-columns-message">
        No Columns
      </div>
</div>      

    <mat-card-actions *ngIf="!isViewOnly" class="button-container"> 
      <button *ngIf="!isEdit" mat-button class="luxury-modal-button-cancel" (click)="goToTemplateScreen()"> <span
          class="icon">&#10006;</span> Cancel</button>
      <button *ngIf="!isEdit" mat-raised-button class="create-job-button" (click)="createUpdateTemplate()"><mat-icon
          style="margin-right: 8px;">done_all</mat-icon>Create Template</button>
      <button *ngIf="isEdit" mat-button class="luxury-modal-button-cancel" (click)="goToTemplateScreen()">
        <span class="icon">&#10006;</span> Cancel
      </button>
      <button *ngIf="isEdit" mat-raised-button class="create-job-button" (click)="createUpdateTemplate()">
        <mat-icon style="margin-right: 8px;">done_all</mat-icon> Save Changes
      </button>
    </mat-card-actions>
    
    
  </mat-card>
</div>